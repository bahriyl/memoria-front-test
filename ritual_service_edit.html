<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Редагування Профілю</title>
    <link rel="stylesheet" href="css/ritual_service_edit.css" />
</head>

<body>
    <div class="ritual-header">
        <a href="ritual_services.html" class="back-button" aria-label="Повернутися">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        </a>

        <button class="ritual-login-btn" id="logout-btn">Вийти</button>
    </div>

    <main class="ritual-container">
        <header class="ritual-hero">
            <img class="ritual-banner" src="" alt="Банер" />
        </header>

        <section class="ritual-info">
            <h1 class="ritual-name"></h1>
            <p class="ritual-address"></p>
            <p class="ritual-phone"></p>
            <a class="ritual-link-btn" target="_blank" href="#">
                <svg class="ritual-link-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24">
                    <path
                        d="M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z" />
                </svg>
                <span class="ritual-link-text">www.spokij.com.ua</span>
            </a>
        </section>

        <section class="ritual-description">
            <div class="description-header section-header">
                <h2>Про нас</h2>

                <!-- dots -->
                <button class="dots-btn" aria-label="Меню">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#585858" viewBox="0 0 24 24">
                        <circle cx="12" cy="5" r="2"></circle>
                        <circle cx="12" cy="12" r="2"></circle>
                        <circle cx="12" cy="19" r="2"></circle>
                    </svg>
                </button>

                <!-- popup -->
                <div class="popup-menu hidden">
                    <div class="popup-option edit-description">Змінити</div>
                </div>
            </div>

            <!-- ⬇️ Саме цей елемент використовує «профільну» логіку з бінарним пошуком -->
            <p id="ritual-text" class="ritual-text"></p>

            <!-- textarea лишається для режиму редагування -->
            <textarea class="ritual-text" style="display:none;"></textarea>
        </section>

        <button class="add-category-btn">Додати категорію</button>
    </main>

    <!-- overlay, спільний для модалок -->
    <div id="modal-overlay" hidden></div>

    <!-- Confirm Delete Photos (match profile) -->
    <div id="confirm-delete-modal" class="modal" hidden>
        <button id="confirm-delete-close" class="modal-close" aria-label="Закрити">
            <svg viewBox="0 0 30 30" width="28" height="28" aria-hidden="true">
                <path d="M7 7l10 10M17 7L7 17" stroke="#90959C" stroke-width="2" stroke-linecap="round"></path>
            </svg>
        </button>
        <p id="confirm-delete-modal-text" class="modal-text">Видалити вибрані фотографії?</p>
        <div class="modal-actions">
            <button id="confirm-delete-cancel" class="modal-cancel">Скасувати</button>
            <button id="confirm-delete-ok" class="modal-ok">Видалити</button>
        </div>
    </div>

    <!-- Photo Description Modal (Album / Photo) -->
    <div id="photo-desc-modal" class="modal" hidden>
        <button id="photo-desc-close" class="modal-close" aria-label="Закрити"><svg viewBox="0 0 30 30" width="28"
                height="28" aria-hidden="true">
                <path d="M7 7l10 10M17 7L7 17" stroke="#90959C" stroke-width="2" stroke-linecap="round"></path>
            </svg></button>

        <h3 class="modal-title">
            Додати фото (<span id="photo-desc-count">0</span>)
        </h3>

        <div class="photo-desc-thumbs" id="photo-desc-thumbs"></div>

        <textarea id="photo-desc-text" class="photo-desc-textarea" placeholder="Додати опис..."></textarea>

        <div class="photo-type">
            <label class="radio">
                <input type="radio" name="photoMode" id="mode-album" value="album">
                <span>Обʼєднати в альбом</span>
            </label>
            <label class="radio">
                <input type="radio" name="photoMode" id="mode-photo" value="photo" checked>
                <span>Окремі фото</span>
            </label>
        </div>

        <div class="modal-actions">
            <button id="photo-desc-add" class="modal-ok">Додати</button>
        </div>
    </div>

    <!-- Premium player modal -->
    <div id="rs-video-modal" class="rs-video-modal" hidden>
        <div class="rs-video-backdrop"></div>
        <div class="video-wrapper">
            <video id="rsVideo" playsinline webkit-playsinline preload="metadata"
                controlsList="nodownload noremoteplayback" disablePictureInPicture src="" poster=""></video>

            <!-- big play overlay -->
            <button class="overlay-play" id="rsOverlayPlay" aria-label="Play">
                <svg viewBox="0 0 24 24" fill="white">
                    <path d="M8 5v14l11-7z"></path>
                </svg>
            </button>

            <!-- custom controls -->
            <div class="controls" id="rsControls">
                <input type="range" id="rsProgress" min="0" max="100" value="0" />
                <button id="rsPlayPause" aria-label="Pause"></button>
                <span id="rsTimeLabel">0:00</span>
                <button id="rsClose" aria-label="Закрити" class="rs-close">✕</button>
            </div>
        </div>
    </div>

    <script src="js/ritual_service_edit.js"></script>
</body>

</html>