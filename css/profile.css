/* ──────────────────────────────────────────────────────────────
   profile.css (cleaned & optimized)
   ────────────────────────────────────────────────────────────── */

@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;460;480;500;510;550;570;600;700;750&display=swap');

html,
body {
    margin: 0;
    padding: 0;
    background-color: #F7F7F7;
}

/* Hide page scrollbar but keep scrolling */
html,
body {
    /* Firefox & old Edge/IE */
    scrollbar-width: none;
    -ms-overflow-style: none;
}

/* Chrome / Safari / Opera / new Edge */
html::-webkit-scrollbar,
body::-webkit-scrollbar {
    width: 0;
    height: 0;
    display: none;
}

.profile-container {
    font-family: 'Montserrat', sans-serif;
    color: #222;
    margin: 0 auto;
    padding-bottom: 8px;
}

/* ─── Hero ─── */
.profile-hero {
    position: relative;
    left: 50%;
    margin-left: -50vw;
    width: 100vw;
    box-sizing: border-box;
    padding-top: constant(safe-area-inset-top);
    padding-top: env(safe-area-inset-top);
    height: calc(200px + constant(safe-area-inset-top));
    height: calc(200px + env(safe-area-inset-top));
    background: url('https://pbs.twimg.com/media/Fq4UD5RXoAAo9OB.jpg') center/cover no-repeat;
    z-index: 200;
}

.profile-avatar {
    position: static !important;
    bottom: auto !important;
    left: auto !important;
    transform: none !important;
    width: 149px;
    height: 149px;
    border: 3px solid #fff;
    border-radius: 50%;
    object-fit: cover;
    background: #eee;
}

/* ─── Header Card ─── */
.profile-info {
    padding: 43px 1rem 1rem;
    text-align: left;
    background-color: #FFFFFF;
    border-radius: 0 0 9px 9px;
    border: 0.5px solid #BFBFBF;
    border-top: none;
    border-left: none;
    border-right: none;
}

.profile-name {
    margin: 0;
    font-size: 19px;
    font-weight: 570;
    color: #1C170D;
}

.profile-years,
.profile-cemetery {
    margin: 4px 0;
    font-size: 15px;
    color: #1C170D;
    font-weight: 480;
}

/* ─── Location CTA ─── */
.location-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 14px 20px;
    width: 100%;
    height: 41px;
    margin-top: 22px;
    box-sizing: border-box;
    background-color: #1B8B59;
    color: #ffffff;
    border: none;
    border-radius: 14px;
    font-size: 16px;
    font-weight: 570;
    text-decoration: none;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.location-button:hover {
    background-color: #166F47;
}

.location-icon {
    margin-right: 8px;
}

/* ─── Biography ─── */
.profile-bio {
    background-color: #fff;
    border-radius: 9px;
    padding: 1rem 1rem 18px;
    margin-top: 6px;
    border: 0.2px solid #BFBFBF;
    border-left: none;
    border-right: none;
    position: relative;
}

.profile-bio .bio-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 10px;
    flex-direction: column;
    gap: 0;
}

.bio-title {
    font-size: 19px;
    font-weight: 570;
    margin: 0;
}

.bio-edit-btn,
.photo-btn,
.relatives-btn,
.template-btn {
    padding: 0rem 1rem;
    background-color: #F2F4F7;
    color: #1C170D;
    border: none;
    border-radius: 14px;
    font-size: 15px;
    font-weight: 510;
    font-family: 'Montserrat', sans-serif;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-top: 10px;
    height: 30px;
    line-height: 30px;
}

.photo-btn:hover,
.relatives-btn:hover,
.template-btn:hover {
    background-color: #e0e3e8;
}

.bio-content {
    font-size: 15px;
    font-weight: 480;
    font-family: 'Montserrat', sans-serif;
    line-height: 1.5;
    color: #000;
    overflow: hidden;

    /* use line clamp, like slideshow captions */
    display: -webkit-box;
    -webkit-line-clamp: 4;
    /* 4 lines */
    -webkit-box-orient: vertical;
    max-height: none;
    /* not needed with line-clamp */

    overflow-wrap: break-word;
    word-wrap: break-word;
    word-break: break-word;
}

.bio-content.expanded {
    -webkit-line-clamp: unset;
    /* show full text */
    overflow: visible;
}

/* while collapsed, leave room on the right so text doesn't sit under the toggle */
.bio-content:not(.expanded) {
    padding-right: 0;
}

.bio-controls {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.bio-toggle {
    display: inline;
    margin-left: 0;
    padding: 0;
    background: none;
    border: 0;
    color: #000;
    font-weight: 600;
    white-space: nowrap;
    cursor: pointer;
    vertical-align: baseline;
}

#bio-cancel-btn {
    margin-right: 0.75rem;
}

/* textarea */
#bio-editor {
    width: 100%;
    box-sizing: border-box;
    background-color: #F1F3F5;
    border: none;
    border-radius: 7px;
    padding: 10px 15px;
    font-size: 15px;
    font-weight: 480;
    font-family: 'Montserrat', sans-serif;
    line-height: 24px;
    color: #1C170D;
    min-height: 150px;
    outline: none;
    transition: box-shadow .2s;
}

#bio-editor:focus {
    box-shadow: none !important;
}

#bio-editor::placeholder {
    color: #9CA3AF;
    opacity: 1;
    font-family: 'Montserrat', sans-serif;
}

.bio-empty {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 120px;
    padding: 24px;
    margin: 0;
    background: #F5F5F8;
    color: #72767D;
    border-radius: 12px;
    text-align: center;
    font-size: 15px;
    font-weight: 500;
    line-height: 1.4;
}

/* ─── Photos ─── */
.profile-photos {
    background: #fff;
    border-radius: 20px;
    padding: 1rem 1rem 18px;
    margin-top: 6px;
    position: relative;
    border: 0.2px solid #BFBFBF;
    border-radius: 9px;
}

.photos-title {
    font-size: 19px;
    font-weight: 570;
    margin: 0 0 0;
}

.photos-controls {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}

/* Delete (hidden by default; shown via selection mode rule below) */
#delete-photo-btn {
    display: none;
    background-color: #DC3545;
    color: #fff;
    transition: background-color 0.2s ease;
}

#delete-photo-btn:hover {
    background-color: #C82333;
}

.photos-scroll {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    margin-top: 17px;

    /* hide scrollbar across browsers */
    scrollbar-width: none;
    /* Firefox */
    -ms-overflow-style: none;
    /* IE and old Edge */
}

.photos-scroll::-webkit-scrollbar {
    display: none;
    /* Chrome, Safari, Opera */
}

/* Two-row, column-flow grid */
.photos-list {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 160px !important;
    grid-template-rows: 198px 198px;
    gap: 3px;
    width: max-content;
    /* fit to thumbnails */
    margin: 0;
    padding: 0;
    list-style: none;
}

.photos-list li {
    position: relative;
    width: 160px;
    height: 198px;
    border-radius: 4px;
    overflow: hidden;
}

.photos-list li img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* Selection overlay */
.photo-selection-overlay {
    position: absolute;
    inset: 0;
    display: none;
    align-items: flex-start;
    justify-content: flex-end;
    padding: 12px;
    cursor: pointer;
}

.profile-photos.selection-mode .photo-selection-overlay {
    display: flex;
}

.photo-selection-circle {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: #1B8B59;
    color: #fff;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 600;
    z-index: 2;
}

.photos-list li.selected .photo-selection-circle {
    display: flex;
}

.selection-check {
    color: #fff;
    font-size: 14px;
    font-weight: bold;
    opacity: 0;
    transition: opacity .2s;
}

.photos-list li.selected .selection-check {
    opacity: 1;
}

/* Selection mode visuals + show red delete */
.profile-photos.selection-mode .photos-list li {
    cursor: pointer;
}

.profile-photos.selection-mode .photos-list li.selected {
    opacity: 1;
    transition: opacity .2s;
}

.profile-photos.selection-mode .photos-list img {
    pointer-events: none;
}

.profile-photos.selection-mode #delete-photo-btn {
    display: inline-block !important;
}

.profile-photos .photos-list li.selected::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, .28);
    border-radius: 4px;
    pointer-events: none;
    z-index: 1;
}

.profile-photos .photo-selection-circle {
    position: absolute;
    z-index: 2;
}

.photos-empty {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 160px;
    padding: 24px;
    margin: 0;
    background: #F5F5F8;
    color: #72767D;
    border-radius: 12px;
    text-align: center;
    font-size: 15px;
    font-weight: 500;
    line-height: 1.4;
}

.photos-list.rows-1 {
    grid-template-rows: 198px;
}

.photos-list.rows-2 {
    grid-template-rows: 198px 198px;
}

/* Uploading overlay */
.photos-list li.uploading::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, .35);
    pointer-events: none;
}

.photos-list li.uploading::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 34px;
    height: 34px;
    margin-top: -17px;
    margin-left: -17px;
    border-radius: 50%;
    border: 3px solid rgba(255, 255, 255, .35);
    border-top-color: #fff;
    animation: memoria-spin 0.9s linear infinite;
}

/* same tiny hint as on location */
.photos-list li.uploading .uploading-hint {
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 12px;
    line-height: 16px;
    color: #fff;
    background: rgba(0, 0, 0, .45);
}

/* === Selection badge (match Location page) === */
.profile-photos .photos-list li,
.profile-shared .photos-list li {
    position: relative;
}

.profile-photos .select-badge,
.profile-shared .select-badge {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: none;
    align-items: center;
    justify-content: center;
    font-family: "Montserrat", sans-serif;
    font-weight: 550;
    font-size: 14px;
    color: #fff;
    box-shadow: 0 1px 3px rgba(0, 0, 0, .25);
    z-index: 3;
}

/* In selection mode show hollow ring on all items */
.profile-photos.selection-mode .select-badge {
    display: flex;
    background: rgba(255, 255, 255, 0);
    border: 1px solid #fff;
    color: transparent;
}

/* Selected → green filled with order number */
.profile-photos.selection-mode .photos-list li.is-selected .select-badge {
    background: #1B8B59;
    border: 0;
    color: #fff;
}

/* Subtle overlay on selected tile */
.profile-photos .photos-list li.is-selected::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, .1);
    border-radius: 4px;
    pointer-events: none;
    z-index: 1;
}

.profile-shared .shared-list li.accepted.is-selected::after {
    z-index: 1;
}

/* ─── 3-dots button + popup ─── */
.dots-btn {
    position: absolute;
    top: 8px;
    right: 12px;
    width: 40px;
    height: 40px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: 0;
    padding: 0;
    z-index: 2;
}

.popup-menu {
    position: absolute;
    left: 0;
    top: 0;
    display: none;
    /* приховане за замовчуванням */
    background: #F7F7F7;
    border: 0.5px solid #DCDCDC;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, .1);
    min-width: 160px;
    z-index: 999;
}

.popup-menu.show {
    display: block;
    /* показуємо */
}

.popup-menu.hidden {
    display: none;
}

.popup-option {
    padding: 10px 16px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 510;
    color: #1C170D;
    position: relative;
}

.popup-option::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 5%;
    width: 90%;
    border-bottom: 0.5px solid #DCDCDC;
}

.popup-option:last-child::after {
    content: none;
}

#choose-relative-btn {
    display: none;
}

/* ─── Liturgy Section ─── */
.profile-liturgy {
    background: #fff;
    border-radius: 20px;
    padding: 18px;
    margin-top: 6px;
    border: 0.2px solid #BFBFBF;
    border-radius: 9px;
}

.liturgy-title {
    font-size: 19px;
    font-weight: 570;
    margin: 0 0 1.5rem;
}

.liturgy-date {
    margin-bottom: 6px;
}

.date-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.date-label,
.selected-date {
    font-size: 1rem;
    font-weight: 550 !important;
}

.selected-date {
    color: #000000;
    font-size: 15px;
    font-weight: 460;
}

.date-calendar {
    display: flex;
    gap: 8px;
    overflow-x: auto;
    scroll-snap-type: x proximity;
    padding-bottom: 18px;
    white-space: nowrap;

    /* Hide scrollbar cross-browser */
    scrollbar-width: none;
    /* Firefox */
    -ms-overflow-style: none;
    /* IE/Edge */
}

.date-calendar::-webkit-scrollbar {
    display: none;
    /* Chrome/Safari/Opera */
}

.date-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-width: 60px;
    height: 70px;
    border-radius: 16px;
    background-color: #F2F4F7;
    cursor: pointer;
    transition: all .2s;
    scroll-snap-align: start;
}

.date-item.selected {
    background-color: #1B8B59;
    color: #fff;
}

/* Highlight today's date if not selected */
.date-item.today:not(.selected) .date-number,
.date-item.today:not(.selected) .date-day {
    color: #1B8B59 !important;
}

.date-number {
    font-size: 1.25rem;
    font-weight: 600;
    line-height: 1;
}

.date-day {
    font-size: .875rem;
    font-weight: 500;
    margin-top: 4px;
}

.liturgy-church {
    margin-bottom: 25px;
}

.church-label {
    display: block;
    font-size: 1rem;
    font-weight: 550 !important;
    margin-bottom: 1rem;
}

.church-options {
    display: flex;
    gap: .75rem;
    flex-wrap: wrap;
}

.church-btn {
    padding: .75rem 1.25rem;
    background-color: #F2F4F7;
    color: #1C170D;
    border: none;
    border-radius: 20px;
    font-size: .875rem;
    font-weight: 500;
    font-family: 'Montserrat', sans-serif;
    cursor: pointer;
    transition: all .2s;
    white-space: nowrap;
}

.church-btn.selected {
    background-color: #1B8B59;
    color: #fff;
}

/* ——— Liturgy card (matches mock) ——— */
.liturgy-details {
    background-color: #F2F4F7;
    border-radius: 16px;
    padding: 1rem;
    margin-bottom: 1.5rem;
}

/* Name (bigger & bolder like the mock) */
.liturgy-details .person-name {
    margin: 0 0 8px 0;
    font-size: 16px;
    font-weight: 600;
    color: #1C170D;
}

/* Body line (larger, comfortable line-height) */
.liturgy-details .service-info {
    font-size: 14px;
    font-weight: 500;
    color: #1C170D;
    line-height: 1.45;
}

/* Make the existing .liturgy-details a horizontal, swipeable strip */
.liturgy-details.is-strip {
    /* strip container */
    display: flex;
    gap: 12px;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
    overscroll-behavior-x: contain;
    white-space: nowrap;

    /* reset the outer card look (the children are the real cards) */
    background: transparent;
    padding: 0;
    border-radius: 0;
    margin-bottom: 23px;

    /* hide scrollbar */
    scrollbar-width: none;
}

.liturgy-details.is-strip::-webkit-scrollbar {
    display: none;
}

/* Each inner card keeps your original card styles and shows 1-at-a-time */
.liturgy-details.is-strip>.liturgy-details {
    flex: 0 0 100%;
    /* ~1 screen wide; shows a tiny peek of next */
    scroll-snap-align: start;
    scroll-snap-stop: always;
    white-space: normal;
    /* allow text wrapping inside the card */

    /* ensure no extra gaps between stacked-inner cards */
    margin: 0;
    /* parent adds the outer margin */
}

/* ——— Pager dots under the card ——— */
.liturgy-pager {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    /* spacing between dots like the mock */
    margin: 6px 0 16px;
    /* sits right under the card */
}

.liturgy-pager .pip {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #D7DBDF;
    /* grey (inactive) */
}

.liturgy-pager .pip.is-active {
    background: #1B8B59;
    /* green (active) */
}

.liturgy-donation {
    margin-bottom: 26px;
}

.donation-label {
    display: block;
    font-size: 1rem;
    font-weight: 500;
    margin-bottom: 1rem;
}

.donation-options {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 8px;
    width: 100%;
}

.donation-btn {
    background-color: #F2F4F7;
    color: #1C170D;
    border: none;
    border-radius: 16px;
    font-size: .875rem;
    font-weight: 500;
    font-family: 'Montserrat', sans-serif;
    cursor: pointer;
    transition: all .2s;

    display: flex;
    align-items: center;
    justify-content: center;
    height: 32px;
    padding: 0 12px;
    width: 100%;
    box-sizing: border-box;
}


.donation-btn.selected {
    background-color: #1B8B59;
    color: #fff;
}

.liturgy-submit {
    width: 100%;
    height: 49px;
    padding: 1rem;
    background-color: #1B8B59;
    color: #fff;
    border: none;
    border-radius: 16px;
    font-size: 1rem;
    font-weight: 600;
    font-family: 'Montserrat', sans-serif;
    cursor: pointer;
    transition: background-color .2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.liturgy-submit:hover {
    background-color: #166F47;
}

/* ─── Comments ─── */
.profile-comments {
    background: #fff;
    border-radius: 20px;
    padding: 18px;
    margin-top: 6px;
    border: 0.2px solid #BFBFBF;
    border-radius: 9px;
}

.comments-title {
    font-size: 19px;
    font-weight: 570;
    margin: 0 0 16px;
}

.comments-list {
    margin-bottom: 15px;
    overflow-y: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.comments-list::-webkit-scrollbar {
    display: none;
}

.comment-item {
    padding: 10px 0;
    border-bottom: 0.5px solid #DCDCDC;
}

.comment-item:last-child {
    border-bottom: none;
}

.comment-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2px;
}

.comment-author {
    font-size: 15px;
    font-weight: 550;
}

.comment-date {
    font-size: 14px;
    font-weight: 500;
    color: #585858;
}

.comment-text {
    font-size: 15px;
    font-weight: 500;
    color: #494949;
    line-height: 1.4;
    margin: 0;
}

.add-comment-title {
    font-size: 16px;
    font-weight: 550;
    font-family: 'Montserrat', sans-serif;
    margin: 0 0 1rem;
}

/* Контейнер: спільний горизонтальний скрол для обох рядів */
.comment-templates {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.comment-templates::-webkit-scrollbar {
    display: none;
}

/* Внутрішня “стрічка”, ширина = ширині найдовшого ряду */
.comment-templates .templates-track {
    display: inline-block;
    /* дає природну ширину по контенту */
}

/* Два незалежні ряди з рівними відступами між кнопками */
.comment-templates .templates-row {
    display: flex;
    gap: 12px;
    margin-bottom: 8px;
    white-space: nowrap;
    /* не переносити всередині ряду */
}

.comment-templates .templates-row:last-child {
    margin-bottom: 0;
}

/* Кнопки-шаблони: автоширина від тексту, фіксована висота під макет */
.add-comment .template-btn {
    box-sizing: border-box;
    height: 32px;
    padding: 0 16px;
    /* вертикальний паддінг = 0, щоб влізти в 44px */
    white-space: nowrap;
    width: auto;
    flex: 0 0 auto;
    /* щоб не стискались у flex-рядку */
    margin-top: 0 !important;
}

/* ─── Relatives ─── */
.profile-relatives {
    background: #fff;
    border: 0.2px solid #BFBFBF;
    border-radius: 9px;
    padding: 18px;
    margin-top: 6px;
    position: relative;
}

.relatives-title {
    font-size: 19px;
    font-weight: 570;
    margin: 0;
}

.relatives-list {
    display: flex;
    flex-direction: column;
    gap: 0;
    /* no gaps; we use separators */
}

.relative-item {
    display: flex;
    gap: 12px;
    align-items: center;
    padding: 10px 0;
    /* vertical rhythm like mock */
    background: transparent;
    /* no grey chip */
    border-bottom: 0.5px solid #DCDCDC;
    cursor: pointer;
}

.relative-item:last-child {
    border-bottom: 0;
}

.relative-avatar {
    width: 54px;
    height: 54px;
    border-radius: 50%;
    object-fit: cover;
    background: #eee;
    flex-shrink: 0;
}

.relative-info {
    flex: 1;
    min-width: 0;
    /* allow text to ellipsize if needed */
}

.relative-name {
    margin: 0 0 4px 0;
    font-family: 'Montserrat', sans-serif;
    font-size: 15px;
    font-weight: 550;
    color: #202124;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.relative-meta {
    display: flex;
    align-items: baseline;
    gap: 8px;
}

.relative-details {
    /* years */
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    font-size: 11.3px;
    font-weight: 500;
    color: #333333;
}

.relative-relationship {
    /* relationship on the right */
    font-family: 'Montserrat', sans-serif;
    font-size: 11.3px;
    font-weight: 500;
    color: #333333;
}

/* ─── Back button (hero) ─── */
.back-button {
    position: absolute;
    top: calc(env(safe-area-inset-top, 0px) + 8px);
    left: 12px;
    background: transparent;
    padding: 8px 0 8px 0;
    width: auto;
    height: auto;
    border-radius: 0;
    transition: none;
    z-index: 350;
    pointer-events: auto;
}

.back-button:hover {
    background: transparent;
}

.back-button svg {
    stroke: #fff;
    stroke-width: 1.5;
    width: 30px;
    height: 30px;
}

/* ─── Modal (shared) ─── */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .4);
    z-index: 300;
}

.modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    border-radius: 12px;
    padding: 24px 16px;
    padding-bottom: 20px;
    width: 90%;
    max-width: 360px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, .15);
    text-align: center;
    z-index: 301;
}

.modal-close {
    position: absolute;
    top: 10px;
    right: 3px;
    background: none;
    border: 0;
    color: #90959C;
    cursor: pointer;
}

.modal-text {
    font-size: 18px;
    font-weight: 600;
    font-family: 'Montserrat', sans-serif;
    color: #222;
    line-height: 1.4;
}

#confirm-delete-modal-text {
    font-size: 15px;
    font-weight: 480;
    font-family: 'Montserrat', sans-serif;
}

.modal-actions {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin-top: 14px;
}

.modal-ok {
    height: 42px;
    padding: 0 32px;
    background: #1B8B59;
    color: #fff;
    border: 0;
    border-radius: 14px;
    font-size: 17px;
    font-weight: 550;
    font-family: 'Montserrat', sans-serif;
    cursor: pointer;
}

.modal-cancel {
    height: 42px;
    padding: 0 32px;
    background: #F2F4F7;
    color: #222;
    border: 0;
    border-radius: 14px;
    font-size: 17px;
    font-weight: 550;
    font-family: 'Montserrat', sans-serif;
    cursor: pointer;
}

/* Comment-template modal: make action buttons fit the input width */
#comment-template-modal .modal-actions {
    width: 100%;
    /* same inner width as the input (respects modal padding) */
    box-sizing: border-box;
    display: flex;
    gap: 12px;
    /* keep small gap between buttons */
    justify-content: stretch;
    /* no centering shrink */
    margin-top: 0;
    /* tuck right under the input */
    padding: 0;
    /* align with input’s edges */
}

/* Comment template modal: make only OK ~60% and center it */
#comment-template-modal .modal-actions {
    justify-content: center;
    /* центруємо в рядку */
    gap: 12px;
    /* можна лишити або змінити */
}

#comment-template-ok {
    flex: 0 0 60%;
    /* не розтягуватися на 100% */
    width: 60%;
    height: 44px;
    /* ~60% ширини модалки */
    max-width: 360px;
    /* опційно: верхня межа */
    min-width: 220px;
    /* опційно: нижня межа */
    align-self: center;
    /* щоб точно стояло по центру */
}

/* ——— Comments: empty state (same look as photos empty) ——— */
.comments-empty {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 120px;
    padding: 24px;
    margin: 0;
    background: #F5F5F8;
    color: #72767D;
    border-radius: 12px;
    text-align: center;
    font-size: 15px;
    font-weight: 500;
    line-height: 1.4;
}

/* ——— Modal for comment template → user name ——— */
#comment-template-modal .modal-text {
    margin-bottom: 12px;
}

#comment-user-input {
    width: 100%;
    box-sizing: border-box;
    background: #F1F3F5;
    border: none;
    border-radius: 14px;
    padding: 10px 12px;
    font-size: 16px;
    font-weight: 460;
    font-family: 'Montserrat', sans-serif;
    margin: 8px 0 24px 0;
    outline: none;
}

/* Header + login button (exactly like ritual_service_profile) */
.ritual-header {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 48px;
    padding: 0 12px 0 1px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    z-index: 300;
}

/* Allow clicks to pass through empty parts of the header so back button underneath is clickable */
.ritual-header {
    pointer-events: none;
    /* header itself won't capture clicks */
}

/* Keep the actual interactive elements clickable */
.ritual-header .ritual-login-btn,
.ritual-header .ritual-back-btn,
.ritual-header a,
.ritual-header button {
    pointer-events: auto;
}

.ritual-back-btn {
    background: none;
    border: 0;
    padding: 0;
    margin: 0;
    display: flex;
    align-items: center;
    cursor: pointer
}

.ritual-login-btn {
    background: none;
    border: 0;
    color: #fff;
    font-size: 14px;
    font-weight: 510;
    font-family: "Montserrat", sans-serif;
    cursor: pointer;
    margin-left: auto;
    margin-top: 14px;
}

/* Login modal (1:1 with ritual_service_profile) */
.login-modal {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .5);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 999
}

.login-box {
    background: #fff;
    padding: 24px;
    padding-bottom: 24px;
    border-radius: 12px;
    width: 90%;
    box-shadow: 0 2px 10px rgba(0, 0, 0, .2);
    display: flex;
    flex-direction: column;
    gap: 12px;
    position: relative
}

.login-box input {
    padding: 10px;
    font-size: 15px
}

.login-box button {
    background: #1b8b59;
    color: #fff;
    border: 0;
    padding: 10px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 15px
}

.login-close {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
    border: 0;
    border-radius: 50%;
    background: none !important;
    color: #222 !important;
    font-size: 18px;
    line-height: 28px;
    text-align: center;
    cursor: pointer
}

.login-close:hover {
    background: #e6e6e6
}

.error-message {
    color: red;
    font-size: 12px;
    font-family: 'Montserrat', sans-serif;
    margin: 0;
    margin-left: 4px;
}

/* === Slideshow === */
.slideshow-modal {
    position: fixed;
    inset: 0;
    background: #000;
    display: flex;
    flex-direction: column;
    z-index: 10000;
}

.slideshow-track {
    display: flex;
    flex: 1;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
}

.slideshow-slide {
    flex: 0 0 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    scroll-snap-align: center;
    position: relative;
    overflow-y: hidden;
}

.slideshow-img {
    width: 100vw;
    height: auto;
    max-height: 100vh;
    object-fit: contain;
}

.slideshow-modal-media .slideshow-slide.is-video {
    background: #000;
}

.slideshow-video-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.slideshow-modal-media .slideshow-video {
    width: 100vw;
    height: auto;
    max-height: 100vh;
    object-fit: contain;
    background: #000;
}

.slideshow-modal-media .slideshow-controls {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 56px;
    padding: 0 12px 12px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    gap: 0;
    pointer-events: auto;
}

.slideshow-modal-media .slideshow-progress {
    width: 100%;
    appearance: none;
    height: 4px;
    background: linear-gradient(rgba(0, 0, 0, 0.45), rgba(0, 0, 0, 0.45)) padding-box,
        rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(2px);
    border-radius: 999px;
    outline: none;
    margin: 0;
}

.slideshow-modal-media .slideshow-progress::-webkit-slider-thumb {
    appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #fff;
    border: 0;
}

.slideshow-modal-media .slideshow-progress::-moz-range-thumb {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #fff;
    border: 0;
}

.slideshow-modal-media .hud-pill {
    position: absolute;
    bottom: 28px;
    height: 28px;
    padding: 0 12px;
    background: #1b8b59;
    color: #fff;
    font: 13px/28px "Montserrat", sans-serif;
    border: 0;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    pointer-events: auto;
}

.slideshow-modal-media .hud-left {
    left: 12px;
}

.slideshow-modal-media .hud-right {
    right: 12px;
}

.close-slideshow {
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 24px;
    color: #fff;
    cursor: pointer;
    z-index: 10000;
}

.slideshow-indicators {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 10;
}

.slideshow-indicator {
    width: 9px;
    height: 9px;
    border-radius: 50%;
    background: #fff;
    cursor: pointer;
    transition: background-color .3s;
}

.slideshow-indicator.active {
    background: #1B8B59;
}

/* Slideshow caption (bottom overlay) */
.slideshow-caption {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    padding: 14px 16px 18px;
    background: rgba(0, 0, 0, .65);
    color: #fff;
    box-sizing: border-box;
    font-family: 'Montserrat', sans-serif;
    font-size: 14px;
    font-weight: 420;
    line-height: 1.4;
    margin-bottom: 30px;
}

.slideshow-caption .caption-text {
    display: inline;
    max-height: calc(1.4em * 2);
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    /* clamp to 2 lines */
    -webkit-box-orient: vertical;
}

.slideshow-caption.expanded .caption-text {
    -webkit-line-clamp: unset;
    /* повний текст */
    overflow: visible;
    max-height: none;
}

.slideshow-caption .caption-more {
    font-weight: 700;
    cursor: pointer;
    margin-left: 6px;
    text-decoration: none;
}

.caption-toggle {
    display: none;
    /* показуємо тільки якщо є переповнення */
    background: none;
    border: 0;
    padding: 0 0 0 6px;
    color: #fff;
    font-size: 14px;
    font-weight: 550;
    cursor: pointer;
}

.slideshow-caption.has-toggle .caption-toggle {
    display: inline;
}

[hidden] {
    display: none !important;
}

/* ─── Shared Album ─── */
.profile-shared {
    background: #fff;
    border-radius: 9px;
    padding: 1rem 1rem 18px;
    border: 0.2px solid #BFBFBF;
    border-left: none;
    border-right: none;
    margin-top: 6px;
    position: relative;
}

.shared-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0 0 0;
}

.shared-controls {
    display: flex;
    gap: .75rem;
    margin-bottom: 17px;
    align-items: center;
}

/* Кнопки підтвердження/відхилення на pending-картках */
.shared-offer-actions {
    position: absolute;
    left: 8px;
    right: 8px;
    bottom: 8px;
    display: flex;
    gap: 8px;
    justify-content: space-between;
    z-index: 3;
}

.shared-accept,
.shared-decline {
    border: 0;
    border-radius: 14px;
    padding: 6px 12px;
    font-weight: 600;
    cursor: pointer;
}

.shared-accept {
    background: #1B8B59;
    color: #fff;
}

.shared-decline {
    background: rgba(0, 0, 0, .55);
    color: #fff;
}

.shared-close-x {
    position: absolute;
    top: 6px;
    right: 6px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: rgba(0, 0, 0, .55);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    cursor: pointer;
    z-index: 3;
}

/* У режимі вибору показуємо червону кнопку видалення */
.profile-shared.selection-mode #shared-delete-btn {
    display: inline-block !important;
}

#shared-delete-btn {
    display: none;
    background: #DC3545;
    color: #fff;
}

#shared-delete-btn:hover {
    background: #C82333;
}

.shared-scroll::-webkit-scrollbar {
    display: none;
}

.shared-list {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

.shared-list {
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
    gap: 8px;
}

/* Shared album – horizontal scroller */
.profile-shared .shared-scroll {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    width: 100%;
}

/* One-row strip of thumbnails */
.profile-shared .shared-list {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 160px;
    /* your card width */
    grid-template-rows: 198px;
    /* single row */
    gap: 3px;
    margin: 0;
    padding: 0;
    list-style: none;
    width: max-content;
    /* make the list wider than the viewport, so it scrolls */
}

.profile-shared .shared-list li {
    width: 160px;
    height: 198px;
    border-radius: 4px;
    overflow: hidden;
    position: relative;
}

.profile-shared .shared-list img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* Success toast (copied from add_person) */
.toast {
    position: absolute;
    top: 16px;
    left: 16px;
    right: 16px;
    margin: 0;
    z-index: 310;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    background: #1B8B59;
    /* green */
    color: #fff;
    border-radius: 16px;
    padding: 12px 16px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, .1);
}

.toast-close {
    background: none;
    border: none;
    color: #fff;
    font-size: 18px;
    line-height: 1;
    cursor: pointer;
}

.toast[hidden] {
    display: none !important;
}

/* Вимикаємо webkit-кламп, коли керуємо з JS */
.bio-content.manual-clamp {
    display: block !important;
    -webkit-line-clamp: unset !important;
    -webkit-box-orient: initial !important;
    overflow: visible;
}

/* modal panel: allow scrolling inside */
.modal-content {
    min-height: 65vh;
    max-height: 90vh;
    /* keep it on screen */
    overflow-y: auto;
    /* inner scroll */
    -webkit-overflow-scrolling: touch;
}

/* Cemetery select → такий самий вигляд, як activityArea на add_person */
#relCemetery {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 100%;
    height: 49px;
    padding: 12px 8px 12px 18px;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 460;
    font-family: 'Montserrat', sans-serif;
    color: #222222;
    background: #EFF2F5 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23999' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E") no-repeat right 16px center;
    background-size: 20px 20px;
}

#relCemetery:not(:placeholder-shown) {
    background-image: none;
    color: #222;
}

/* кнопка "очистити" справа */
#clear-relCemetery {
    display: none;
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    color: #666;
}

#relCemetery:valid+#clear-relCemetery {
    display: flex;
}

/* Suggestions UI (match add_person) */
.suggestions-container {
    position: relative;
}

.suggestions-list {
    position: absolute;
    z-index: 20;
    left: 0;
    right: 0;
    top: calc(100% + 6px);
    list-style: none;
    margin: 0.25rem 0 0;
    padding: 0;
    background: #fff;
    border: 0.5px solid #DCDCDC;
    border-radius: 12px;
    max-height: 260px;
    overflow-y: auto;
    box-shadow: 0 6px 16px rgba(0, 0, 0, .08);
    display: none;
}

.suggestions-list.show {
    display: block;
}

.suggestions-list li {
    padding: 8px 16px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 500;
    color: #1C170D;
}

.suggestions-list li:hover {
    background: #F2F4F7;
}

.suggestions-list .no-results {
    color: #72767D;
    cursor: default;
}

#relCemClear {
    display: none;
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    color: #666;
}

#relCemetery:not(:placeholder-shown)~#relCemClear {
    display: inline-flex;
}

/* Селектор «Хто це» біля років у модальному списку */
/* Years + compact role pill */
#relSelectedList li .meta {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
    margin-top: 2px;
}

#relSelectedList li .years {
    font-size: 13px;
    font-weight: 500;
    color: #333;
}

/* Wrapper so the dropdown anchors to the pill */
.rel-role {
    position: relative;
}

/* Small pill button */
.rel-role-btn {
    background: #F2F4F7 !important;
    border: 0 !important;
    border-radius: 16px !important;
    height: 21px !important;
    width: auto !important;
    /* smaller */
    padding: 0 6px;
    /* tighter */
    font-family: 'Montserrat', sans-serif;
    font-size: 10px;
    /* smaller */
    font-weight: 510;
    color: #797777 !important;
    cursor: pointer !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 6px;
}

/* tiny chevron */
.chev-icon {
    width: 16px;
    height: 16px;
    stroke: #666666 !important;
    /* або currentColor */
    vertical-align: middle;
}

/* Use your existing suggestions-list look, just anchor + width */
.rel-role-list {
    min-width: 160px;
    top: calc(100% + 6px);
    /* drop under the pill */
}

/* Optional: highlight current value in the list */
.rel-role-list li.is-active {
    background: #F2F4F7;
}

/* Truncate long relative names with ellipsis */
#relSelectedList li .info .name,
#relFoundList li .info .name {
    max-width: 210px;
    /* можна підлаштувати під свій макет */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: block;
}

#relFoundList .plus-icon {
    width: 13px;
    height: 13px;
    margin: 0 !important;
}

.select-btn.is-hidden {
    display: none;
}

#relSelectedList .minus-icon {
    width: 12px;
    height: 12px;
    margin: 0 !important;
}

/* ─── Relatives selection mode (mirror Photos) ─── */
.profile-relatives {
    position: relative;
}

.relatives-controls {
    display: flex;
    gap: .75rem;
    margin-bottom: .75rem;
    align-items: center;
}

#rel-delete-btn {
    display: none;
    background-color: #DC3545;
    color: #fff;
    transition: background-color .2s ease;
}

#rel-delete-btn:hover {
    background-color: #C82333;
}

/* Each relative tile can host a badge */
.relatives-list .relative-item {
    position: relative;
    /* for absolute badge */
    display: flex;
    gap: 12px;
    align-items: center;
    cursor: pointer;
    padding: 10px 0;
    border-bottom: 0.5px solid #DCDCDC;
}

.relatives-list .relative-item:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.relatives-list .select-badge {
    position: absolute;
    top: 20px;
    right: 6px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: none;
    align-items: center;
    justify-content: center;
    font-family: "Montserrat", sans-serif;
    font-weight: 550;
    font-size: 14px;
    color: #fff;
    z-index: 2;
}

/* While selecting, show hollow rings on all */
.profile-relatives.selection-mode .select-badge {
    display: flex;
    background: rgba(255, 255, 255, 0);
    border: 1px solid #888;
    color: transparent;
}

/* Selected → green with order number */
.profile-relatives.selection-mode .relative-item.is-selected .select-badge {
    background: #1B8B59;
    border: 0;
    color: #fff;
}

/* Dim selected tile a bit */
.profile-relatives.selection-mode .relative-item.is-selected {
    opacity: 1;
}

/* Hide dots menu while selecting */
.profile-relatives.selection-mode #rel-menu-btn {
    visibility: hidden;
}

/* Name must ellipsize (already added earlier; ensure min-width on info) */
.relative-info {
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.relative-name {
    margin: 0;
    font-size: 15px;
    font-weight: 550;
    font-family: 'Montserrat', sans-serif;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Grey cancel button for relatives edit mode */
#rel-cancel-btn {
    display: none;
    background-color: #F2F4F7;
    color: #1C170D;
    transition: background-color .2s ease;
}

#rel-cancel-btn:hover {
    background-color: #e0e3e8;
}

/* When selecting relatives → show Cancel, hide the old Choose */
.profile-relatives.selection-mode #rel-cancel-btn {
    display: inline-block;
}

.profile-relatives.selection-mode #choose-relative-btn {
    display: none !important;
}

/* Make modal-submit-btn float over content */
#relativesModal .modal-content {
    position: relative;
    /* anchor for absolute child */
}

#relativesModal .modal-submit-btn {
    position: fixed;
    /* always fixed to viewport */
    bottom: 48px;
    /* завжди однаковий відступ */
    left: 50%;
    transform: translateX(-50%);
    /* центр по горизонталі */
    z-index: 1000;
    /* вище за списки та інше */
    width: 80%;
    /* відступи зліва/справа */
    max-width: 480px;
    /* щоб не була надто широкою */
    margin: 0 !important;
}

/* Optional: avoid clipping if any parent had overflow hidden */
#relativesModal {
    overflow: visible;
    position: fixed;
}

/* (Опційно для iOS) трішки підняти над safe-area, якщо потрібно */
@supports (padding: max(0px)) {
    #relativesModal .modal-submit-btn {
        bottom: max(60px, env(safe-area-inset-bottom));
    }
}

/* Make the years panel float ABOVE everything in relativesModal */
#relativesModal .years-panel {
    position: fixed !important;
    /* escape local stacking contexts */
    top: 46%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1100 !important;
    /* higher than modal-submit-btn (1000) */
    width: min(90vw, 460px);
    max-height: 80vh;
    overflow: hidden;
}

.avatar-menu {
    position: absolute;
    top: 50%;
    left: calc(100% + 16px);
    transform: translateY(-50%);
    z-index: 5;
}

.avatar-menu[hidden] {
    display: none;
}

.avatar-menu-card {
    display: flex;
    flex-direction: column;
    min-width: 188px;
    max-width: 220px;
    background: #ffffff;
    border-radius: 18px;
    border: 0.5px solid #DCDCDC;
    box-shadow: 0 12px 24px rgba(28, 23, 13, 0.18);
    overflow: hidden;
    margin-left: 350px;
    margin-bottom: 30px;
}

.avatar-menu-item {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 10px;
    width: 100%;
    padding: 14px 20px;
    text-align: left;
    background: transparent;
    border: none;
    font-family: 'Montserrat', sans-serif;
    font-size: 15px;
    font-weight: 480;
    color: #1C170D;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.avatar-menu-item+.avatar-menu-item {
    border-top: 0.5px solid #DCDCDC;
}

.avatar-menu-item:focus-visible {
    outline: 2px solid rgba(27, 139, 89, 0.4);
    outline-offset: -2px;
}

.avatar-menu-item:hover {
    background: rgba(243, 245, 248, 0.65);
}

@media (max-width: 480px) {
    .avatar-menu {
        left: 50%;
        transform: translate(-50%, -55%);
    }
}

.profile-avatar-wrapper {
    position: absolute;
    bottom: -35px;
    left: 23%;
    transform: translateX(-50%);
    width: 149px;
    height: 149px;
}

.profile-avatar-wrapper .profile-avatar {
    width: 100%;
    height: 100%;
    border: 3px solid #fff;
    border-radius: 50%;
    object-fit: cover;
    background: #eee;
    display: block;
}

.avatar-spinner {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.35);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease;
    border: 3px solid #fff;
}

.avatar-spinner::after {
    content: "";
    width: 34px;
    height: 34px;
    border: 3px solid rgba(255, 255, 255, 0.4);
    border-top-color: #fff;
    border-radius: 50%;
    animation: memoria-spin 0.9s linear infinite;
}

.avatar-spinner.show {
    opacity: 1;
}

@keyframes memoria-spin {
    to {
        transform: rotate(360deg);
    }
}

.modal-subtitle {
    font-size: 13px;
    font-weight: 500;
    font-family: 'Montserrat', sans-serif;
    color: #222222;
}

.date-item {
    position: relative;
}

.date-dot {
    position: absolute;
    right: 26px;
    top: 75px;
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: #1a9c57;
}

/* green dot already exists if you added earlier */
.liturgy-history {
    margin-top: 12px;
    margin-bottom: 12px;
}

.liturgy-history-title {
    margin: 8px 0 10px;
    font-size: 16px;
    font-weight: 500;
}

.liturgy-history-list {
    display: grid;
    gap: 12px;
    /* used above for scroll clamp calc */
}

/* Reuse .liturgy-details visuals; these tweaks make stacked cards breathe */
.liturgy-history-item.liturgy-details {
    margin-bottom: 0;
}

.liturgy-history-item .liturgy-meta {
    margin-top: 6px;
    font-size: 12px;
    opacity: 0.7;
}

/* === Avatar Cropper (shared) === */
.avatar-cropper-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .45);
    z-index: 3000;
}

.avatar-cropper {
    position: fixed;
    z-index: 3001;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: min(92vw, 420px);
    background: #fff;
    border-radius: 14px;
    padding: 16px;
    padding-bottom: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, .2);
}

.avatar-cropper-header h3 {
    margin: 12px 0 22px 0;
    font-family: 'Montserrat', sans-serif;
    font-weight: 570;
    font-size: 18px;
    color: #222;
    text-align: center;
}

/* square stage with circular mask overlay */
.avatar-cropper-stage {
    position: relative;
    width: 100%;
    aspect-ratio: 1 / 1;
    overflow: hidden;
    background: #f2f4f7;
    border-radius: 12px;
    touch-action: none;
    /* for pointer panning on mobile */
}

.avatar-cropper-stage img {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) scale(1);
    user-select: none;
    -webkit-user-drag: none;
    max-width: none;
    /* prevent auto sizing */
}

/* darken outside of the circle; keep center clear */
.avatar-cropper-mask {
    pointer-events: none;
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at center, rgba(0, 0, 0, 0) 48%, rgba(0, 0, 0, .55) 0%);
    /* white guide ring */
}

.avatar-cropper-mask::after {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    width: 68%;
    height: 68%;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    border: 2px solid rgba(255, 255, 255, .9);
}

.avatar-cropper-controls {
    margin-top: 24px;
}

.avatar-cropper-controls input[type="range"] {
    width: 100%;
}

.avatar-cropper-buttons {
    width: 80%;
    margin: 0 auto;
    /* center the row */
    display: flex;
    gap: 16px;
    justify-content: center;
    /* center buttons inside the row */
    margin-bottom: 6px;
}

.avatar-cropper .btn {
    flex: 1;
    /* обидві кнопки однакові по ширині */
    padding: 12px 0;
    border-radius: 14px;
    border: 0 solid #E5E7EB;
    background: #F2F4F7;
    color: #000;
    font-size: 17px;
    font-weight: 550;
    font-family: 'Montserrat', sans-serif;
}

.avatar-cropper .btn.primary {
    background-color: #1B8B59;
    color: #fff;
    border: none;
}

.login-modal h2 {
    margin: 10px 0 10px 0;
    text-align: center;
    font-size: 18px;
    font-weight: 600;
    font-family: 'Montserrat', sans-serif;
}

#loginClose {
    top: 2px;
    right: 16px;
}

input[type="password"] {
    width: 100%;
    height: 54px;
    padding: 12px 12px;
    padding-left: 18px;
    border: none;
    border-radius: var(--radius-md);
    background: #EFF2F5;
    font-size: 16px;
    font-family: 'Montserrat', sans-serif;
    font-weight: 460;
    color: #72767D;
    outline: none;
}

input[type="password"]::placeholder {
    color: #72767D;
}

input[type="text"],
input[type="number"] {
    height: 54px;
}

.login-box input {
    padding: 12px 12px;
    padding-left: 18px;
    font-size: 16px;
}

#loginSubmit {
    border-radius: 14px;
    background: #1B8B59;
    height: 46px;
    font-size: 17px;
    font-weight: 550;
    font-family: 'Montserrat', sans-serif;
    width: 60%;
    align-self: center;
    margin-top: 10px;
    padding: 0 16px;
}

.forgot-password {
    font-size: 12px;
    color: #72767D;
    font-weight: 460;
    margin: 0;
    cursor: pointer;
    margin-left: 4px;
}

.reset-block {
    width: 100%;
    margin-top: 12px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.input-label {
    font-size: 13px;
    font-weight: 500;
    color: #5C6169;
}

.readonly-input,
#resetCode {
    width: 100%;
    height: 54px;
    padding: 12px 18px;
    border: none;
    border-radius: var(--radius-md);
    background: #EFF2F5;
    font-size: 16px;
    font-family: 'Montserrat', sans-serif;
    font-weight: 460;
    color: #1A1D1F;
    outline: none;
    box-sizing: border-box;
}

.readonly-input[disabled] {
    cursor: not-allowed;
    opacity: 0.85;
}

.resend-code-btn {
    margin-top: 4px;
    padding: 0;
    border: none;
    background: none;
    color: #1B8B59;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
}

.resend-code-btn:disabled {
    color: #A0A7B4;
    cursor: default;
}

.code-note {
    font-size: 12px;
    color: #6B6F79;
    margin: 6px 0 0;
}

.forgot-email-link {
    color: #1B8B59;
    font-weight: 550;
    cursor: pointer;
    text-align: center;
    margin-top: 6px;
}

.forgot-email-text {
    font-size: 15px;
    line-height: 1.5;
    text-align: center;
    margin-bottom: 20px;
}

/* ── Photo Description Modal (unified) ───────────────────────── */
.modal-title {
    margin: 0 0 20px;
    text-align: center;
    font-weight: 600;
}

.photo-desc-thumbs {
    display: flex !important;
    gap: 12px;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x proximity;
    white-space: nowrap;
    scrollbar-width: none;
    border-radius: 4px;
    padding: 10px 4px 18px 4px;
}

.photo-desc-thumbs::-webkit-scrollbar {
    display: none;
}

.photo-desc-thumb {
    flex: 0 0 129px;
    scroll-snap-align: start;
    height: 152px !important;
    width: 129px !important;
    position: relative;
    border-radius: 4px;
    overflow: hidden;
    background: #eee;
    cursor: pointer;
    transition: transform .12s ease, box-shadow .12s ease;
}

.photo-desc-thumb img {
    width: 129px;
    height: 152px;
    object-fit: cover;
}

.photo-desc-thumb.is-selected {
    transform: scale(1.04);
    border-radius: 4px;
}

.photo-desc-thumb .thumb-x {
    position: absolute;
    top: 6px;
    right: 6px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    background: #fff;
    border: 0;
    cursor: pointer;
    color: #333;
    padding-left: 5px;
}

.photo-desc-textarea {
    width: 100%;
    box-sizing: border-box;
    background: #F2F4F7;
    border: none;
    border-radius: 14px;
    padding: 12px 14px;
    font-size: 16px;
    font-weight: 460;
    font-family: 'Montserrat', sans-serif;
    line-height: 22px;
    min-height: 120px;
    outline: none;
}

.photo-desc-textarea::placeholder {
    color: #72767D;
}

#photo-desc-add {
    margin-top: 12px;
    width: 60%;
}

.modal-close {
    right: 0;
}

/* Overlay */
.hero-change-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .45);
    z-index: 180;
}

/* Ховаємо аватар, коли активний hero-picker */
.hero-changing .profile-avatar-wrapper {
    visibility: hidden;
}

/* Контейнер пікера */
.hero-picker {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: flex-end;
    /* вирівнювання знизу */
    justify-content: center;
    z-index: 400;
}

/* Карточка пікера */
.hero-picker-card {
    width: 100%;
    background: #fff;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, .2);
    padding: 12px 0;
}

.hero-grid {
    display: flex;
    overflow-x: auto;
    gap: 3px;
    padding: 4px 12px 20px;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-x: contain;
    scrollbar-width: none;
}

.hero-grid::-webkit-scrollbar {
    display: none;
}

/* only the last item adds spacing at the end */
.hero-grid .hero-option:last-child {
    margin-right: 1px;
    /* matches your left padding */
}

/* Each thumb as snap item */
.hero-option {
    position: relative;
    flex: 0 0 145px;
    /* fixed card width (keeps your size) */
    height: 170px;
    /* fixed card height */
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border-color 0.2s;

    /* Snap settings */
    scroll-snap-align: center;
    /* center the card when snapping */
    scroll-snap-stop: always;
    /* (best effort) stop exactly on a card */
}

/* image remains unchanged */
.hero-option img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.hero-option.is-selected {
    transform: scale(1.05);
    z-index: 1;
}

/* Кнопки дій */
.hero-actions {
    width: 80%;
    margin: 0 auto;
    /* center the row */
    display: flex;
    gap: 16px;
    justify-content: center;
    /* center buttons inside the row */
    margin-bottom: 6px;
}

.hero-actions .btn {
    flex: 1;
    /* обидві кнопки однакові по ширині */
    padding: 12px 0;
    border-radius: 14px;
    border: 0 solid #E5E7EB;
    background: #F2F4F7;
    color: #000;
    font-size: 17px;
    font-weight: 550;
    font-family: 'Montserrat', sans-serif;
}

.hero-actions .btn.primary {
    background-color: #1B8B59;
    color: #fff;
    border: none;
}

/* Donation modal = same layout as comment-template modal */
#donation-modal .modal-actions {
    width: 100%;
    box-sizing: border-box;
    display: flex;
    gap: 12px;
    justify-content: stretch;
    margin-top: 0;
    padding: 0;
}

#donation-modal .modal-actions .modal-cancel,
#donation-modal .modal-actions .modal-ok {
    flex: 1 1 0;
    width: auto;
    height: 44px;
    padding: 0;
}

/* Donation input matches #comment-user-input */
#donation-input {
    width: 100%;
    box-sizing: border-box;
    background: #F1F3F5;
    border: none;
    border-radius: 14px;
    padding: 10px 12px;
    font-size: 16px;
    font-weight: 460;
    font-family: 'Montserrat', sans-serif;
    margin: 8px 0 24px 0;
    outline: none;
}

/* Shared album: завжди ховаємо інлайнову кнопку "Добавити" —
   запускатимемо її лише з меню (3 крапки) */
#shared-add-btn {
    display: none !important;
}

/* Про всяк випадок піднімаємо 3-крапки над контентом секції */
#shared-menu-btn {
    display: inline-flex !important;
    /* гарантія, що не "inline" */
    z-index: 10;
    /* вище за картинки/тексти */
}

#relFoundList {
    padding-bottom: 54px;
}

/* Match reset email input look to login/password fields */
#resetEmail {
    width: 100%;
    height: 54px;
    padding: 12px 12px;
    padding-left: 18px;
    border: none;
    border-radius: var(--radius-md);
    background: #EFF2F5;
    font-size: 16px;
    font-family: 'Montserrat', sans-serif;
    font-weight: 460;
    outline: none;
    box-sizing: border-box;
}

#resetEmail::placeholder {
    color: #72767D;
}

/* ===== Premium player (modal) ===== */
.rs-video-modal[hidden] {
    display: none;
}

.rs-video-modal {
    position: fixed;
    inset: 0;
    z-index: 9999;
}

.rs-video-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, .7);
}

.video-wrapper {
    /* copied from premium_qr.css */
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: min(92vw, 420px);
    height: auto;
    aspect-ratio: 16 / 9;
    background: #000;
    overflow: hidden;
}

.video-wrapper video {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* big center play button */
.overlay-play {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 89px;
    height: 61px;
    background: #168251;
    border-radius: 15px;
    border: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.overlay-play svg {
    width: 47px;
    height: 47px;
}

/* hide native controls (as in premium) */
.video-wrapper video::-internal-media-controls,
.video-wrapper video::-webkit-media-controls {
    display: none !important;
}

video::-webkit-media-controls,
video::-webkit-media-controls-enclosure,
video::-webkit-media-controls-panel,
video::-webkit-media-controls-overlay-play-button,
video::-webkit-media-controls-start-playback-button {
    display: none !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* custom controls bar */
#rs-video-modal .controls {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 56px;
    /* enough room for pills + slider */
    padding: 0 12px 8px;
    display: flex;
    align-items: flex-end;
    /* slider sits at the bottom */
    justify-content: center;
    gap: 0;
    pointer-events: auto;
    /* controls are clickable */
}

/* Progress spans the full width */
#rsProgress {
    width: 100%;
    appearance: none;
    height: 4px;
    background: linear-gradient(rgba(0, 0, 0, 0.45), rgba(0, 0, 0, 0.45)) padding-box,
        rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(2px);
    border-radius: 999px;
    outline: none;
    margin: 0;
    /* no extra gaps */
}

#rsProgress::-webkit-slider-thumb {
    appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #fff;
    border: 0;
}

#rsProgress::-moz-range-thumb {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #fff;
    border: 0;
}

/* Green HUD pills sitting ABOVE the progress, left/right */
#rs-video-modal .hud-pill {
    position: absolute;
    bottom: 28px;
    /* sits over the track like screenshot */
    height: 28px;
    padding: 0 12px;
    background: #1b8b59;
    /* your accent green */
    color: #fff;
    font: 600 12px/28px "Montserrat", sans-serif;
    border: 0;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    pointer-events: auto;
}

#rs-video-modal .hud-left {
    left: 12px;
}

#rs-video-modal .hud-right {
    right: 12px;
}

/* Icon inside play/pause pill */
#rsPlayPause svg {
    width: 18px;
    height: 18px;
    fill: currentColor;
}

/* Hide the big green overlay while paused/played as your logic dictates (unchanged) */
#rs-video-modal .overlay-play {
    /* keep from premium */
    /* unchanged; still centered big button */
}

/* Status badge inside liturgy card */
.liturgy-details {
    position: relative;
}

/* картка вже існує — додаємо позиціонування */
.liturgy-status {
    height: 22px;
    position: absolute;
    top: 16px;
    right: 18px;
    padding: 5px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 500;
    line-height: 1;
    background: #1B8B59;
    /* зелений як у макеті */
    color: #fff;
    white-space: nowrap;
}

.liturgy-status.is-done {
    background: #FFFFFF;
    color: #000000;
}

.password-wrapper {
    position: relative;
    width: 100%;
}

.password-wrapper input[type="password"],
.password-wrapper input[type="text"] {
    width: 100%;
    padding-right: 42px;
    /* leave space for the eye icon */
    box-sizing: border-box;
}

.toggle-password {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none !important;
    border: none;
    cursor: pointer;
    padding: 4px;
    color: #72767d;
    display: flex;
    align-items: center;
    justify-content: center;
}

.toggle-password svg {
    stroke: #72767D;
    fill: none;
}

.password-wrapper #resetEmail,
.password-wrapper #resetCode {
    margin-bottom: 12px;
}

/* 1. Hide scrollbar on main page (html, body) */
html,
body {
    /* Firefox */
    scrollbar-width: none;
    /* IE and old Edge */
    -ms-overflow-style: none;
}

/* Chrome, Safari, Opera, new Edge */
html::-webkit-scrollbar,
body::-webkit-scrollbar {
    width: 0;
    height: 0;
    display: none;
}

/* 2. Hide scrollbar inside relativesModal */
#relativesModal {
    /* Firefox */
    scrollbar-width: none;
    /* IE/Edge */
    -ms-overflow-style: none;
}

/* Chrome, Safari, Opera */
#relativesModal::-webkit-scrollbar {
    display: none;
}

/* 3. Hide scrollbar in modal-content (inner scrollable area) */
#relativesModal .modal-content {
    /* Firefox */
    scrollbar-width: none;
    /* IE/Edge */
    -ms-overflow-style: none;
}

/* Chrome, Safari, Opera */
#relativesModal .modal-content::-webkit-scrollbar {
    display: none;
}

/* 4. Optional: Hide scrollbars in people lists inside the modal */
#relSelectedList,
#relFoundList {
    scrollbar-width: none;
    -ms-overflow-style: none;
}

#relSelectedList::-webkit-scrollbar,
#relFoundList::-webkit-scrollbar {
    display: none;
}

/* 5. Ensure profile-container also has no scrollbar */
.profile-container {
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.profile-container::-webkit-scrollbar {
    display: none;
}

.year-wheel {
    position: relative;
}

.year-wheel .year-list {
    position: relative;
    z-index: 2;
    /* draw numbers above the focus layer */
}

.year-wheel .year-focus {
    position: absolute;
    left: 8px;
    right: 8px;
    top: 50%;
    height: 44px;
    /* same height as one row */
    transform: translateY(-50%);
    border-radius: 12px;
    pointer-events: none;
    /* don’t intercept scroll/tap */
    z-index: 1;
    /* behind the numbers */
}

.code-sent-note {
    margin: 0 0 12px;
    font-size: 12px;
    color: #1B8B59;
    font-weight: 470;
}

/* Small play mark centered over video thumbnails */
.video-play-small {
    position: absolute;
    left: 90%;
    top: 10%;
    transform: translate(-50%, -50%);
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: transparent;
    display: grid;
    place-items: center;
    z-index: 2;
    /* above the image */
    pointer-events: none;
    /* clicks go to the tile */
}

.video-play-small svg {
    width: 22px;
    height: 22px;
    display: block;
    fill: #fff;
}

/* Make sure order badge is above the play dot */
.profile-photos .select-badge,
.profile-shared .select-badge {
    z-index: 3;
}

/* Компактні відступи тільки для екрана "Забули пошту?" */
.login-box.forgot-email {
    gap: 4px;
    /* було 12px */
}

.login-box.forgot-email h2 {
    margin: 6px 0 4px;
    /* було 10px зверху/знизу */
}

.login-box.forgot-email .forgot-email-text {
    margin: 0 0 14px;
    /* без верхнього відступу */
}

/* ─── Login box fixes ─── */
.login-box.reset-password p:empty,
.login-box.reset-password .spacer,
.login-box.reset-password .hidden-block {
    display: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Зменшуємо відступи спеціально для екрана "Скидання паролю" */
.login-box.reset-password {
    gap: 0 !important;
}

.login-box.reset-password p {
    margin: 6px 0 !important;
}

.login-box.reset-password h2 {
    margin-bottom: 18px;
}

.not-my-phone-link {
    font-size: 12px;
    font-family: "Montserrat", sans-serif;
    font-weight: 460;
    color: #72767D;
    text-align: center;
    margin: 4px 0 0;
    cursor: pointer;
}

.not-my-phone-box h2 {
    text-align: center;
    margin-top: 8px;
    margin-bottom: 8px;
}

.not-my-phone-text {
    font-size: 15px;
    font-family: "Montserrat", sans-serif;
    font-weight: 480;
    text-align: center;
    margin: 12px 0 24px;
}

.not-my-phone-box button#notMyPhoneBackBtn {
    width: 60%;
    align-self: center;
    border-radius: 14px;
    font-size: 17px;
    font-weight: 550;
    font-family: 'Montserrat', sans-serif;
}

#notMyPhoneClose {
    top: 2px;
    right: 16px;
}

.login-box .readonly-input[disabled] {
    color: #72767D;
}

/* Apply only on reset step 1 */
.login-modal.is-reset-step1 h2 {
    font-size: 15px;
    font-weight: 480;
}

#resendCodeBtn {
    background: transparent;
    color: #72767D;
    text-align: left;
    padding: 0;
    font-size: 12px;
    font-weight: 460;
    font-family: 'Montserrat';
    margin: 0;
}